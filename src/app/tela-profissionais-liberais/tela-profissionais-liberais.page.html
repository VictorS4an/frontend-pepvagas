<ion-content [fullscreen]="true">
  <app-nav></app-nav>

  <ion-fab-button class="voltar-botao" color="dark" [routerLink]="['/']">
    <ion-icon name="arrow-back"></ion-icon>
  </ion-fab-button>

  <ion-card-header>
    <ion-card-title> Profissionais Liberais/Autônomos </ion-card-title>
  </ion-card-header>

  <ion-row>
    <ion-col size="3">
      <p style="text-align: right;"> Pesquisar Por Tipo de Serviço: </p>
    </ion-col>
    <ion-col size="6">
      <ion-item class="form-item">
        <ion-select id="tipo" label="Tipo de serviço" labelPlacement="floating" 
            [(ngModel)]="selectedTipoId" (ionChange)="onTipoChange($event)">
          <ion-select-option *ngFor="let tipo of servicos" [value]="tipo.idTipoServico">{{ tipo.nome }}</ion-select-option>
        </ion-select>
      </ion-item>
    </ion-col>
    <ion-col size="3">
      <ion-button (click)="carregarLista()">
        Limpar Filtro
      </ion-button>
    </ion-col>
  </ion-row>

  <div class="web-padding">
      <ion-grid *ngIf="this.listaProfissionais.length > 0">
        <ion-row>
          <ion-col *ngFor="let prof of listaProfissionais">
            <!--style="background-color: lightgreen;"-->
            <ion-card>

              <ion-card-header>
                <ion-card-title> {{prof.nome}} </ion-card-title>
              </ion-card-header>
              <img *ngIf="prof.arquivoImagem" alt="Imagem" class="imagem"
                src="https://backend-pepvagas-1.onrender.com/images/{{prof.arquivoImagem}}" />

              <ion-card-content>
                <ion-row>
                  <ion-col size="12">
                    <ion-card-content class="job-card-content">
                      <ion-col>
                        <div class="labels-container">
                          <ion-label><b>Descrição:</b> {{prof.descricao}} </ion-label>
                          <ion-label><b>Email:</b> {{prof.email}} </ion-label>
                          <ion-label><b>Telefone:</b> {{prof.telefone}} </ion-label>
                          <ion-label><b>Tipos de Serviço:</b> {{ prof.servicos }} </ion-label>
                        </div>
                      </ion-col>
                    </ion-card-content>
                  </ion-col>
                </ion-row>
              </ion-card-content>
            </ion-card>
          </ion-col>
        </ion-row>
      </ion-grid>
      <div *ngIf="this.listaProfissionais.length === 0">
        <p class="subtitle center"><b>Nenhum profissional liberal/autônomo encontrado.</b></p>
      </div>
  </div>
</ion-content>
